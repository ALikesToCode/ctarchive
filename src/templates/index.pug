doctype html
html(lang="en" class="h-full bg-background")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Reddit Archive
    link(rel="icon" type="image/x-icon" href="/assets/favicon.ico")
    if !isDevelopment
      script(async src="https://www.googletagmanager.com/gtag/js?id=G-FDHPKF5WPQ")
      script.
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-FDHPKF5WPQ');

  body(class="h-full")
    div(class="min-h-full")
      nav(class="bg-surface shadow-sm")
        div(class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8")
          div(class="flex h-16 justify-between")
            div(class="flex")
              div(class="flex flex-shrink-0 items-center")
                a(href="./index.html" class="text-xl font-bold text-primary") Reddit Archive
              div(class="ml-6 flex space-x-8")
                a(href="./about.html" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-secondary hover:border-primary hover:text-primary") Help/About
                a(href="./changelog.html" class="inline-flex items-center border-b-2 border-transparent px-1 pt-1 text-sm font-medium text-secondary hover:border-primary hover:text-primary") Changelog

      div(class="py-10")
        header
          div(class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8")
            div(id="highlight" class="rounded-md bg-yellow-50 p-4 mb-6 hidden")
              div(class="flex")
                div(class="ml-3")
                  p(class="text-sm font-medium text-yellow-800")

        main
          div(class="mx-auto max-w-7xl sm:px-6 lg:px-8")
            div(class="px-4 py-8 sm:px-0")
              div(id="searchform" class="bg-surface rounded-lg shadow px-4 py-5 sm:p-6")
                form(id="search_form" class="space-y-6")
                  div(class="grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2 lg:grid-cols-3")
                    div
                      label(for="mode" class="block text-sm font-medium text-secondary") Mode
                      select(id="mode" name="mode" class="input-field w-full")
                        option(value="submissions") Submissions
                        option(value="comments") Comments

                    div
                      label(for="subreddit" class="block text-sm font-medium text-secondary") Subreddit
                      input(type="text" name="subreddit" id="subreddit" class="input-field w-full")

                    div
                      label(for="sort_type" class="block text-sm font-medium text-secondary") Sort Type
                      select(name="sort_type" id="sort_type" class="input-field w-full")
                        option(value="created_utc") Time
                        option(value="score") Score
                        option(value="num_comments") Comments

                    div
                      label(for="sort" class="block text-sm font-medium text-secondary") Order
                      select(name="sort" id="sort" class="input-field w-full")
                        option(value="desc") Descending
                        option(value="asc") Ascending

                    div
                      label(for="limit" class="block text-sm font-medium text-secondary") Limit
                      input(type="number" min="1" max="1000" value="100" name="limit" id="limit" class="input-field w-full")

                    div
                      label(for="author" class="block text-sm font-medium text-secondary") Author
                      input(type="text" name="author" id="author" class="input-field w-full")

                    div
                      label(for="after" class="block text-sm font-medium text-secondary") After
                      input(type="datetime-local" name="after" id="after" class="input-field w-full")

                    div
                      label(for="before" class="block text-sm font-medium text-secondary") Before
                      input(type="datetime-local" name="before" id="before" class="input-field w-full")

                    div
                      label(for="score" class="block text-sm font-medium text-secondary") Score
                      input(type="text" name="score" id="score" class="input-field w-full")

                    div
                      label(for="num_comments" class="block text-sm font-medium text-secondary") Number of comments
                      input(type="text" name="num_comments" id="num_comments" class="input-field w-full")

                    div
                      label(for="q" class="block text-sm font-medium text-secondary") Search
                      input(type="text" name="q" id="q" class="input-field w-full")

                  div(class="flex justify-end")
                    button(type="submit" class="btn btn-primary") Search

              div(id="status" class="mt-6 text-sm text-secondary")
              div(id="reddit_link" class="mt-2 text-sm")
              
              div(class="mt-6 space-y-4")
                div(id="content")
                div(id="comments_fix")
                div(id="orphans") 